webpackJsonp([17],{"0bqB":function(t,n){},"3Qg8":function(t,n){},"44dg":function(t,n,e){"use strict";var a=e("3Qg8"),r=e.n(a),o=e("bbO2");var i=function(t){e("As+R")},c=e("VU/8")(r.a,o.a,!1,i,"data-v-def9eba4",null);n.default=c.exports},"As+R":function(t,n){},CASP:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),r=e("Xxa5"),o=e.n(r),i=e("exGp"),c=e.n(i),s=e("nv77"),u=e("TbzR"),l=e("44dg"),d={created:function(){},methods:{logout:function(){this.$store.commit(u.d)}}},f={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.$store.state.userInfo?e("nav",{staticClass:"navbar navbar-expand-md fixed-top"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/home"}},[t._v("幕墙提料管理")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse navbar-right",attrs:{id:"collapsibleNavbar"}},[e("ul",{staticClass:"navbar-nav navbar-right"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link text-light pointer-default"},[e("i",{staticClass:"iconfont icon-user"}),t._v(t._s(t.$store.state.userInfo.nickname))])]),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link btn ",attrs:{to:"/user/index"}},[t._v("个人中心")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link btn ",attrs:{to:"/user/book"}},[t._v("通讯录")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link btn",attrs:{to:"/user/set"}},[t._v("设置")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("span",{staticClass:"nav-link text-dark btn",on:{click:t.logout}},[e("small",{staticClass:"text-muted"},[t._v("退出登录")])])])])])],1):e("nav",{staticClass:"navbar navbar-expand-md fixed-top flex-center"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/home"}},[t._v("幕墙提料管理")]),t._v(" "),e("ul",{staticClass:"navbar-nav flex-row"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link btn",attrs:{to:"/login"}},[t._v("登陆")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link btn",attrs:{to:"/registe"}},[t._v("注册")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"}},[n("i",{staticClass:"iconfont icon-liebiao"})])}]};var h={created:function(){window.localStorage.userInfo&&this.log()},methods:{log:function(){var t=this;return c()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.a)(JSON.parse(window.localStorage.userInfo).id);case 2:1!=n.sent.data.res?t.$store.commit(u.d):t.$store.commit(u.c,JSON.parse(window.localStorage.userInfo),!0);case 4:case"end":return n.stop()}},n,t)}))()}},components:{topNav:e("VU/8")(d,f,!1,function(t){e("0bqB")},"data-v-6d34a718",null).exports,loading:l.default}},v={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{staticClass:"container-fluid"},[n("topNav"),this._v(" "),n("div",{staticClass:"body-content"},[n("router-view")],1)],1),this._v(" "),n("loading",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.loading,expression:"$store.state.loading"}]})],1)},staticRenderFns:[]};var m,p=e("VU/8")(h,v,!1,function(t){e("CASP")},null,null).exports,b=e("/ocq"),g=[{path:"/",component:p,children:[{path:"",redirect:"/home"},{path:"/home",component:function(t){return Promise.all([e.e(0),e.e(10)]).then(function(){return t(e("X6d5"))}.bind(null,e)).catch(e.oe)}},{path:"/login",component:function(t){return Promise.all([e.e(0),e.e(12)]).then(function(){return t(e("QrVH"))}.bind(null,e)).catch(e.oe)}},{path:"/registe",component:function(t){return e.e(11).then(function(){return t(e("MleC"))}.bind(null,e)).catch(e.oe)}},{path:"/user",component:function(t){return e.e(1).then(function(){return t(e("kCg9"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0},children:[{path:"",redirect:"/user/index",meta:{checkLogin:!0}},{path:"index",component:function(t){return Promise.all([e.e(0),e.e(14)]).then(function(){return t(e("hdE1"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0}},{path:"book",component:function(t){return Promise.all([e.e(0),e.e(7)]).then(function(){return t(e("7EqK"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0}},{path:"set",component:function(t){return e.e(2).then(function(){return t(e("enRm"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0}}]},{path:"addPro",component:function(t){return e.e(6).then(function(){return t(e("V0OO"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0},children:[{path:"",redirect:"/addPro/step1"},{path:"step1",component:function(t){return e.e(13).then(function(){return t(e("Le5z"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0}},{path:"step2",component:function(t){return Promise.all([e.e(0),e.e(9)]).then(function(){return t(e("hiOt"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0}},{path:"step3",component:function(t){return e.e(5).then(function(){return t(e("v8NT"))}.bind(null,e)).catch(e.oe)},meta:{checkLogin:!0}}]},{path:"pro/:id",component:function(t){return Promise.all([e.e(0),e.e(15)]).then(function(){return t(e("VSui"))}.bind(null,e)).catch(e.oe)},children:[{path:"",redirect:"/pro/:id/index"},{path:"index",component:function(t){return e.e(4).then(function(){return t(e("e9PU"))}.bind(null,e)).catch(e.oe)}},{path:"set",component:function(t){return Promise.all([e.e(0),e.e(8)]).then(function(){return t(e("/WTl"))}.bind(null,e)).catch(e.oe)}},{path:"order",component:function(t){return e.e(3).then(function(){return t(e("9LD1"))}.bind(null,e)).catch(e.oe)}}]}]}],_=e("NYxO"),C=e("bOdI"),k=e.n(C),w=e("mvHQ"),x=e.n(w),P=(m={},k()(m,u.c,function(t,n){var e,a;t.userInfo=n,n.remember&&(a=n,(e="userInfo")&&("string"!=typeof a&&(a=x()(a)),window.localStorage.setItem(e,a)))}),k()(m,u.d,function(t){t.userInfo=null,window.localStorage.removeItem("userInfo")}),k()(m,u.e,function(t,n){t.newPro=n}),k()(m,u.f,function(t,n){t.newPro.members=n}),k()(m,u.b,function(t){t.loading=!0}),k()(m,u.a,function(t){t.loading=!1}),m);e("gyMJ");a.a.use(_.a);var I=new _.a.Store({state:{loading:!1,userInfo:"",newPro:{name:"",number:"",address:"",yezhu:"",design:"",danwei:"",mdanwei:"",introduce:"",members:[]}},getters:{},actions:{},mutations:P});a.a.use(b.a);var L=new b.a({routes:g});L.beforeEach(function(t,n,e){t.meta.checkLogin?I.state.userInfo?e():window.localStorage.userInfo?(I.commit(u.c,JSON.parse(window.localStorage.userInfo),!0),e()):e("/login"):e()});var O=L;e("4kSj"),e("qb6w"),e("Bb4J"),e("erWL");a.a.config.productionTip=!0,new a.a({router:O,store:I}).$mount("#app")},TbzR:function(t,n,e){"use strict";e.d(n,"c",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"e",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"b",function(){return c}),e.d(n,"a",function(){return s});var a="LOGIN",r="LOGOUT",o="UPDATEPRO",i="UPDATEPRO_MEMBER",c="LOADING_START",s="LOADING_ENDT"},bbO2:function(t,n,e){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"loading",attrs:{id:"loading"}},[n("div",{staticClass:"spinner"},[n("div",{staticClass:"bounce1"}),this._v(" "),n("div",{staticClass:"bounce2"}),this._v(" "),n("div",{staticClass:"bounce3"})])])}]};n.a=a},erWL:function(t,n){},gyMJ:function(t,n,e){"use strict";var a=e("mtWM"),r=e.n(a),o="";o="",r.a.defaults.baseURL=o,r.a.defaults.withCredentials=!1,r.a.defaults.withCredentials=!1;n.a=r.a},nv77:function(t,n,e){"use strict";e.d(n,"d",function(){return r}),e.d(n,"c",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"a",function(){return c});var a=e("gyMJ"),r=function(t){return a.a.post("api/account/registe",t)},o=function(t){return a.a.post("api/verify/send",t)},i=function(t){return a.a.post("api/account/login",t)},c=function(t){return a.a.post("api/account/check",{id:t})}},qb6w:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.04b92a6440ddfb4bda0e.js.map