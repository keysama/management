webpackJsonp([14],{M87m:function(t,e){},hdE1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),o=a("TbzR"),c=a("gyMJ"),u=function(t){return c.a.post("api/communion/proInviteAgree",{id:t})},d=function(t){return c.a.post("api/communion/proInviteDisagree",{id:t})},l=a("dBkQ"),p={created:function(){this.init()},data:function(){return{pro_message:[],proCount:0}},methods:{init:function(){var t=this;return i()(n.a.mark(function e(){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("api/communion/proInvite");case 2:return a=e.sent,e.next=5,Object(l.g)();case 5:if(r=e.sent,1==a.data.res){e.next=9;break}return alert(a.data.text),e.abrupt("return");case 9:if(1==r.data.res){e.next=12;break}return alert(r.data.text),e.abrupt("return");case 12:t.pro_message=a.data.body,t.proCount=r.data.body;case 14:case"end":return e.stop()}},e,t)}))()},agree:function(t){var e=this;return i()(n.a.mark(function a(){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$store.commit(o.b),a.next=3,u(t);case 3:if(r=a.sent,e.$store.commit(o.a),1==r.data.res){a.next=8;break}return alert(r.data.text),a.abrupt("return");case 8:e.pro_message=e.pro_message.filter(function(e){return e.id!=t});case 9:case"end":return a.stop()}},a,e)}))()},disagree:function(t){var e=this;return i()(n.a.mark(function a(){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$store.commit(o.b),a.next=3,d(t);case 3:if(r=a.sent,e.$store.commit(o.a),1==r.data.res){a.next=8;break}return alert(r.data.text),a.abrupt("return");case 8:e.pro_message=e.pro_message.filter(function(e){return e.id!=t});case 9:case"end":return a.stop()}},a,e)}))()}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card userinfo"},[a("div",{staticClass:"card-header text-center"},[t._v(t._s(t.$store.state.userInfo.nickname))]),t._v(" "),a("div",{staticClass:"card-body text-center"},[t._v("所属部门："+t._s(t.$store.state.userInfo.departments))]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"col-md-5 text-center"},[a("router-link",{staticClass:"btn btn-info",attrs:{to:"/home",type:"button"}},[t._v("\n        参与项目 "),a("span",{staticClass:"badge badge-light"},[t._v(t._s(t.proCount))])])],1),t._v(" "),t.pro_message.length>0?a("div",{staticClass:"col-md-12 message"},[a("h4",[t._v("消息动态")]),t._v(" "),a("ul",{staticClass:"list-group"},t._l(t.pro_message,function(e,r){return a("li",{key:r,staticClass:"list-group-item d-flex justify-content-between align-items-center"},[a("span",[t._v(t._s(e.holder)+"邀请你加入工程【"+t._s(e.name)+"】")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-left":"10px",width:"min-content"}},[a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"5px"},attrs:{type:"button"},on:{click:function(a){t.agree(e.id)}}},[t._v("接受")]),t._v(" "),a("button",{staticClass:"btn btn-danger",staticStyle:{"margin-top":"5px"},attrs:{type:"button"},on:{click:function(a){t.disagree(e.id)}}},[t._v("拒绝")])])])}))]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"userhead"},[e("i",{staticClass:"iconfont icon-user",staticStyle:{"font-size":"50px"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-footer text-right"},[e("small",[this._v("上次登陆时间：2018-5-25")])])}]};var m=a("VU/8")(p,f,!1,function(t){a("M87m")},"data-v-20221681",null);e.default=m.exports}});
//# sourceMappingURL=14.da871ed8ad6aa1ee46a0.js.map