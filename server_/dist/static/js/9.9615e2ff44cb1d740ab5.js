webpackJsonp([9],{"69Dq":function(t,a,e){"use strict";(function(t){var s=e("Xxa5"),n=e.n(s),o=e("exGp"),r=e.n(o),i=e("aK6G");a.a={created:function(){this.init()},data:function(){return{newBook:"",book:"",add_book:"",add_user:""}},methods:{addBook:function(){var a=this;return r()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=a.newBook){e.next=3;break}return alert("分组名不能为空！"),e.abrupt("return");case 3:if(!(a.book.filter(function(t){return t.name==a.newBook&&""!=a.newBook}).length>0)){e.next=6;break}return alert("分组名已存在！"),e.abrupt("return");case 6:return e.next=8,Object(i.a)({name:a.newBook});case 8:1!=(s=e.sent).data.res&&alert(s.data.text),t("#addGroup").modal("hide"),a.init();case 13:case"end":return e.stop()}},e,a)}))()},init:function(){var t=this;return r()(n.a.mark(function a(){var e;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(i.c)();case 2:1!=(e=a.sent).data.res&&alert(e.data.text),t.newBook="",t.book=e.data.body,t.add_book=t.book[0].id;case 8:case"end":return a.stop()}},a,t)}))()},addMember:function(){var a=this;return r()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=a.add_book&&""!=a.add_user){e.next=3;break}return alert("信息不完整"),e.abrupt("return");case 3:return e.next=6,Object(i.b)({book:a.add_book,member:a.add_user});case 6:if(1==(s=e.sent).data.res){e.next=10;break}return alert(s.data.text),e.abrupt("return");case 10:a.init(),a.add_book="",a.add_user="",t("#addBook").modal("hide");case 15:case"end":return e.stop()}},e,a)}))()},collapse:function(a){t("#"+a).toggle()},active:function(){alert("ok")}}}}).call(a,e("4kSj"))},"7EqK":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("69Dq"),n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row yop align-content-start"},[t._m(0),t._v(" "),e("div",{staticClass:"col-md-12"},[e("ul",{staticClass:"list-group book"},t._l(t.book,function(a,s){return e("li",{key:s,ref:s,refInFor:!0,staticClass:"list-group-item pointer",attrs:{"data-toggle":"collapse","data-target":s},on:{click:function(a){t.collapse(s)}}},[t._v("\n            "+t._s(a.name)+"\n            "),e("span",{staticClass:"badge badge-pill badge-info"},[t._v(t._s(a.member.length))]),t._v(" "),e("span",{staticClass:"delete"},[t._v("×")]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:s}},[e("ul",{staticClass:"list-group"},t._l(a.member,function(a,s){return e("li",{key:s,staticClass:"list-group-item man",class:{"list-group-item-success":1==a.state,"list-group-item-info":0==a.state},on:{click:function(a){return a.stopPropagation(),t.active(a)}}},[t._v("\n                    "+t._s(a.nickname)+"【"+t._s(a.departments)+"】\n                    "),e("span",{staticClass:"badge badge-pill badge-default"},[t._v(t._s(1==a.state?"互相添加":"单向添加"))]),t._v(" "),e("span",{staticClass:"delete"},[t._v("×")])])}))])])}))]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"addBook"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex justify-content-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.add_book,expression:"add_book"}],staticClass:"form-control w-30",attrs:{"aria-placeholder":"选择分组",autocomplete:"none"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.add_book=a.target.multiple?e:e[0]}}},t._l(t.book,function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(t._s(a.name))])})),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.add_user,expression:"add_user"}],staticClass:"form-control",attrs:{type:"text",placeholder:"对方手机号/昵称"},domProps:{value:t.add_user},on:{input:function(a){a.target.composing||(t.add_user=a.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-info",staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:t.addMember}},[t._v("添加")])])]),t._v(" "),t._m(2)])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"addGroup"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex justify-content-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBook,expression:"newBook"}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入分组名"},domProps:{value:t.newBook},on:{input:function(a){a.target.composing||(t.newBook=a.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-info",staticStyle:{"margin-left":"10px"},attrs:{type:"button"},on:{click:t.addBook}},[t._v("添加")])])]),t._v(" "),t._m(4)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-md-12 d-flex justify-content-between align-items-center",staticStyle:{"border-bottom":"1px solid #ececec","margin-bottom":"20px",padding:"0 15px"}},[a("h4",{staticStyle:{margin:"0"}},[this._v("联系人列表")]),this._v(" "),a("div",[a("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[this._v("\n          添加\n        ")]),this._v(" "),a("div",{staticClass:"dropdown-menu"},[a("button",{staticClass:"dropdown-item",attrs:{type:"button","data-toggle":"modal","data-target":"#addGroup"}},[this._v("\n            添加分组\n          ")]),this._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button","data-toggle":"modal","data-target":"#addBook"}},[this._v("\n            添加联系人\n          ")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[this._v("添加联系人")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[this._v("添加分组")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭")])])}]};var o=function(t){e("nTtA")},r=e("VU/8")(s.a,n,!1,o,"data-v-2b67843c",null);a.default=r.exports},nTtA:function(t,a){}});
//# sourceMappingURL=9.9615e2ff44cb1d740ab5.js.map